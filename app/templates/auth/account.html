{% extends "base.html" %} 

{% block custom_css %}
<!-- Bootstrap CSS -->
<link href="/static/css/bootstrap/bootstrap.min.css" rel="stylesheet" />
<link rel="stylesheet" href="/static/icons/font/bootstrap-icons.css" />
<link href="/static/css/account.css" rel="stylesheet" />
{% endblock %} 

{% block title %}
Account
{% endblock %}

{% block content %}
<div class="background">
</div>

<main class="main-grid place-items-center">
    {# Flashing message start here #}
    {% for message in get_flashed_messages(request) %}
        <div class="flash-{{ message.category }} bg-glass text-center">{{ message.message }}</div>
    {% endfor %}
    {# Flashing message end here #}
    
    <div class="account-header bg-glass">
        <h1 class="text-center">Account</h1>
        <div class="account-header-content justify-content-center text-center">
            <div class="account-header-content-item">
                <p class="lead">Username: {{ user.username }}</p>
            </div>
            <div class="account-header-content-item">
                <p class="lead">Email: {{ user.email }}</p>
            </div>
            <div class="account-header-content-item">
                <p class="lead">Created at: {{ user.created_at }}</p>
            </div>
            <div class="account-header-content-item">
                <button class="btn btn-primary" onclick="window.location.href='/logout'">Logout</button>
            </div>
        </div>
    </div>
    <div class="account-body bg-glass">
        <div class="account-body-content justify-content-center text-center">
            <div class="account-body-content-item">
                <h2 class="display-6">Change Username</h2>
                <form id="change-username">
                    <div class="form-group">
                        <label for="username">Username</label>
                        <input type="username" name="username" id="username" class="form-control" required />
                        <button type="submit" class="btn btn-primary">Change</button>
                    </div>
                </form>
            </div>
            <hr>
            <div class="account-body-content-item">
                <h2 class="display-6">Change Email adress</h2>
                <form id="change-email">
                    <div class="form-group">
                        <label for="email">Email</label>
                        <input type="email" name="email" id="email" class="form-control" required />
                        <button type="submit" class="btn btn-primary">Change</button>
                    </div>
                </form>
            </div>
            <hr>
            <div class="account-body-content-item">
                <h2 class="display-6">Change Password</h2>
                <form id="change-password">
                    <div class="form-group">
                        <label for="password">Password</label>
                        <input type="password" name="password" id="password" class="form-control" required />
                        <label for="password_rep">Repeat Password</label>
                        <input type="password" name="password_rep" id="password_rep" class="form-control" required />
                        <button type="submit" class="btn btn-primary">Change</button>
                    </div>
                </form>
            </div>
            <hr>
            <div class="account-body-footer justify-content-center text-center">
                <button class="btn btn-danger" onclick="window.location.href='/account/delete'">Delete Account</button>
            </div>
        </div>
    </div>

    <script src="/static/js/account.js"></script>
</main>
{% endblock %}
